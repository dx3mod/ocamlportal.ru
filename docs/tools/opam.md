# Пакетный менеджер OPAM

[OCaml Package Manager](https://opam.ocaml.org/) (или просто OPAM) &mdash; пакетный менеджер для OCaml,
управляющий пакетами в их исходном виде (в виде исходников), является частью [OCaml Platform](https://ocaml.org/platform), 
как и [Dune](./dune.md). 

Через него можно поставить компилятор и всё остальное.

::: details Опыт использования OPAM
![](https://i.ibb.co/Q6YSgG3/photo-2024-07-05-23-01-27.jpg)
:::

### Документация

- [Using opam](https://opam.ocaml.org/doc/Usage.html) &mdash; всё что нужно знать, чтобы использовать;

## Обновление пакетов

```sh
$ opam update
$ opam upgrade
```
Могут возникать ошибки, из-за конфликта версий, но тут остается страдать.

## Окружения (они же switches)

OPAM позволяет управляться виртуальными окружениями, которые называются `switch`. 
Из коробки у нас всегда есть `default` окружение, оно же глобальное. 

### Создание локального окружения для проекта

Распространенная задача, если у нас некий проект и мы хотим иметь специфичный набор пакетов, определённый компилятор и т.д.
В случае если у нас есть OPAM-манифест, мы можем создать локальное окружение следующей командой:

```sh
$ opam switch create . --deps-only
```
